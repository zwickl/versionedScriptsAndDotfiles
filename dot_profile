
# Source global definitions
if [ -f /etc/bashrc ]; then
	. /etc/bashrc
fi

function scr(){
    if [ ! -e "$1" ];then
        cp .template $1
    fi
    vi +3 $1
}

#determine OS type
OS='unknown'
unamestr=`uname`
if [[ "$unamestr" == 'Linux' ]]; then
   OS='linux'
elif [[ "$unamestr" == 'Darwin' ]]; then
   OS='darwin'
elif [[ ${unamestr:0:6} == 'CYGWIN' ]]; then
   OS='cygwin'
fi

IP='127.0.0.1'
if [[ $OS == 'darwin' ]]; then
#first try getting ethernet address, then airport
    IP=`ipconfig getifaddr en0 &> /dev/null`
    if [ $? = 1 ]; then
        IP=`ipconfig getifaddr en1`
    fi
elif [[ $OS == 'cygwin' ]]; then
    IP=`ipconfig | grep IPv4 | grep -o '[0-9.]*$'`
else
    IP=`hostname -i`
fi

#sytem variables
export MANPATH=`manpath`:/home/zwickl/my_usr/share/man/
export PS1="\w/ $ "

#machines
export CSEM=zwickl@dscr-login-05.oit.duke.edu
export DUKE=zwickl@godzilla.acpub.duke.edu
export LONESTAR=zwickl@lonestar.tacc.utexas.edu
export DLONESTAR=dhillis@lonestar.tacc.utexas.edu
export LONEWORK=zwickl@lonestar.tacc.utexas.edu:/work/utexas/ib/zwickl/
export MONTY=zwickl@129.237.138.231
export KU=zwickl@people.ku.edu
export HOME2=zwickl@192.168.2.2
export DESKTOP=zwickl@129.237.139.73
export KWY=zwickl@129.237.24.139
export PHYLO=zwickl@phylo.bio.ku.edu
export HOMECMP="-p 2222 zwickl@66.45.154.119"
export JASPER=zwickl@129.237.138.173
export DANIEL=zwickl@machcdxi.getmyip.com
export HOWIN=129.237.139.38
export UMDGPU=cbcbgpu01.umiacs.umd.edu
export LAP_BACKUP_PHYLO=$PHYLO:/mnt/backup1/zwickl/laptop/
export SAKURA="zwickl@129.237.138.128"
export LAP=zwickl@129.237.138.142
export BIGRED=dzwickl@bigred.teragrid.iu.edu
export ORRORIN=zwickl@orrorin.nescent.org
export KANG=zwickl@129.237.138.171
export AMAZON=zwickl@ec2-184-72-132-13.compute-1.amazonaws.com
export HAL=hal.biosci.arizona.edu
export WORKLAP=zwickl@128.196.193.227
export FLOYD=zwickl@128.196.193.200
export KSMAC=zwickl@129.237.138.142
export MEDIA=Laura@192.168.1.113
export GREENTULIP=Laura@192.168.1.136
export SYNCMEDIA=Laura@192.168.1.113:/cygdrive/g/PicturesSync/
export OPENTREE=zwickl@opentree-dev.bio.ku.edu

#ssh aliases
alias opentree='ssh $OPENTREE'
alias lonestar='ssh $LONESTAR'
alias dlonestar='ssh $DLONESTAR'
alias csem='ssh zwickl@dscr-login-03.oit.duke.edu'
alias nescent='ssh derrickzwickl@xserve1.nescent.org'
alias orrorin='ssh zwickl@orrorin.nescent.org'
alias duke='ssh zwickl@godzilla.acpub.duke.edu'
alias tunnelToHome='ssh -L 5899:127.0.0.1:5999 -p 2222 zwickl@24.124.109.231'
alias tunnelWithinHome='ssh -L 5899:192.168.2.2:5999  zwickl@192.168.2.2'
alias phylo='ssh $PHYLO'
alias jasper='ssh $JASPER'
alias lap='ssh $LAP'
alias kang='ssh $KANG'
alias hal='ssh $HAL'

#machine dependent stuff

if [ $OS = "darwin" ];then

    #alias paup=paup4a147_osx
    alias figtree="java -jar /Applications/FigTree\ v1.4.4.app/Contents/Resources/Java/figtree.jar"

    alias turnOffCPUThrottling='sudo mv /System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/ACPI_SMC_PlatformPlugin.kext/Contents/Resources/MacBookPro8_1.plist ~'
    alias turnOnCPUThrottling='sudo mv ~/MacBookPro8_1.plist  /System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/ACPI_SMC_PlatformPlugin.kext/Contents/Resources/'

    
    export DESK=$HOME/Desktop/
	export DEV=$DESK/GarliDEV/
	export EF=$DESK/efish/april08/
	export WIN=$EF/selection/windowStuff/
	export NCL=$DEV/ncl/ncl-github/
	export NCL_INST=$NCL/builds/gccNoDynamic.NCL_CONST_FUNCS/installed/
	export NCL_INSTALL_DIR=$NCL/builds/gccNoDynamic/installed/

    export  XCTOOLS=`xcode-select -p`/Toolchains/XcodeDefault.xctoolchain//usr/bin
    export PATH=$XCTOOLS:$BREW_BIN:$HOME/bin:$HOME/bin/pyscripts:$HOME/bin/biopython:$HOME/bin/generalScripts:$HOME/bin/$MACHTYPE:$NCL_INST/bin:$HOME/Desktop/code/MUMmer3.23/:/usr/bin/:/usr/local/bin:/Users/zwickl/.cargo/bin:$PATH
    #export DYLD_LIBRARY_PATH=/usr/local/cuda/lib:$DYLD_LIBRARY_PATH:/Users/zwickl/Desktop/GarliDEV/googleCodeRepo/branches/beagle/beagle-lib/builds/gccDefaults/installed/lib
    export DYLD_LIBRARY_PATH=/usr/local/cuda/lib:$DYLD_LIBRARY_PATH:/Users/zwickl/Desktop/GarliDEV//beagle/beagle-lib/builds/default/installed/usr/local/lib
    export LD_LIBRARY_PATH=/Users/zwickl/Desktop/GarliDEV//beagle/beagle-lib/builds/default/installed/usr/local/lib/:$LD_LIBRAY_PATH
    #export MAFFT_BINARIES=/usr/local/bin/
    export MAFFT_BINARIES=
    PATH="/Library/Frameworks/Python.framework/Versions/Current/bin:$PATH"
	
    #PATH=$HOME/my_usr/bin:$HOME/my_usr/local/bin:$PATH:/usr/local/cuda/bin
	#PATH=$PATH:$HOME/my_usr/bin:$HOME/my_usr/local/bin:/usr/local/cuda/bin
    
    #PATH=/usr/local/ActivePerl-5.14/bin/:$PATH
	GNUTERM=x11
    function rrun(){
         rustc $1.rs && ./$1
     }
    alias ls='ls -G'
    alias Dendroscope='/Applications/Dendroscope3.2/Dendroscope.app/Contents/MacOS/JavaApplicationStub -g'
    alias inkscape="/Applications/Inkscape.app/Contents/Resources/bin/inkscape"
    #PATH=/usr/local/Trolltech/Qt-4.8.2/bin:$PATH
    export PYGOT=$DEV/experiments/pygot/
    export TERRAPHY=$DEV/experiments/terraces/terraphyDEV/postStrokeWork.terraphy

    export WORKON_HOME=$HOME/virtual-environments/
    source /Library/Frameworks/Python.framework/Versions/2.7/bin/virtualenvwrapper.sh 
elif [ $OS = "cygwin" ];then
	export HOMEDRIVE=/cygdrive/c/
	export DESK=/cygdrive/f/Desk/
        export DEV=$DESK/GarliDEV/
        export NCL=$DEV/ncl/
	export NCL_INST=$NCL/branches/v2.1/builds/gccNoDynamic.NCL_CONST_FUNCS/installed/
	export PROJ=$TRUNK/project/standardGarliVC/
	#export HOMELAP='zwickl@192.168.1.65'
	export HOMELAP='zwickl@192.168.1.114'
	PATH=$PATH:/cygdrive/c/Program\ Files/Java/jre6/bin/
	PATH=$PATH:$HOME/bin/pyscripts/:/cygdrive/c/Program\ Files/NCBI/blast-2.2.25/bin/
	PATH=$PATH:/usr/local/emboss/bin/
	PATH=/usr/bin:$PATH
	alias backupHomeToG='rsync -av --exclude-from=/home/zwickl/.rsyncBackupExclude /cygdrive/c/Documents\ and\ settings/zwickl/ /cygdrive/g/derrickHomeBackup/'
	alias backupHomeToI='rsync -av --exclude-from=/home/zwickl/.rsyncBackupExclude /cygdrive/c/Documents\ and\ settings/zwickl/ /cygdrive/i/derrickHomeBackup/'
	alias backupHomeToJ='rsync -av --exclude-from=/home/zwickl/.rsyncBackupExclude /cygdrive/c/Documents\ and\ settings/zwickl/ /cygdrive/j/derrickHomeBackup/'
	alias syncWorkDeskUp='rsync -avzu --exclude-from=/home/zwickl/.syncExclude /cygdrive/f/Desk/ $MONTY:WIN_SYNC/Desk/'
	alias syncWorkDeskDown='rsync -avz --exclude-from=/home/zwickl/.syncExclude $MONTY:WIN_SYNC/Desk/ /cygdrive/f/Desk/'
    alias ls='ls --color=auto'
elif [ $OS = "linux" ];then
    export PATH=$HOME/bin:/usr/local/bin:$PATH:$HOME/bin/pyscripts:$HOME/bin/biopython:$HOME/bin/generalScripts:$HOME/bin/$MACHTYPE:$NCL_INST/bin:$HOME/code/MUMmer3.23/
	PATH=/home/zwickl/my_usr/local/bin/:/home/zwickl/my_usr/bin/:$PATH:/home/zwickl/bin/:/share/apps/bin/:/share/apps/opt/gdb/bin/:/usr/local/cuda/bin:/share/apps/opt/gcc/bin/
    PATH=$PATH:$HOME/libbuilds/lagan20/
    PATH=/share/apps/subversion/bin/:$PATH
	export PYTHONPATH=/home/zwickl/my_usr/lib/python2.7/:/home/zwickl/my_usr/lib/python/:/share/apps/Python-2.6.4/lib/python2.6/
	export LD_LIBRARY_PATH=/opt/rocks/lib/mysql/:/home/zwickl/googleCodeRepo/branches/beagle/beagle-lib/builds/gccDefault/installed/lib:$LD_LIBRARY_PATH
	export DEV=$HOME
	export NCL=/home/zwickl/ncl/
	export NCL_INST=$NCL/ncl-2.1/builds/gccNoDynamic/installed/
    #unset MAFFT_BINARIES
    if [ -d /share/apps/lib/mafft/ ];then
        export MAFFT_BINARIES=/share/apps/lib/mafft/
    else
        export MAFFT_BINARIES=$HOME/my_usr/local/libexec/mafft/
    fi
    alias ls='ls --color=auto'
	alias qa='qstat -u "*" | sort | grep [0-9]' 
	alias qz='qstat | sort | grep [0-9]' 
	alias devQrsh='qrsh -q dev.q -l h_vmem=4G -l vf=4G'
	alias ViewLog='vi $TESTS/RUNLOG.log'
	alias ViewTests='vi $TESTS/TESTRESULTS.log'
	alias c0='ssh compute-0-0'
	alias backupToPhylo='rsync --progress -avz --exclude-from=$HOME/.rsync_exclude $HOME/ $PHYLO:fromKwy/'
    alias emergencyShutdownHal='sudo rocks run host command=shutdown'
    #alias svn='env LD_LIBRARY_PATH=/share/apps/serf/lib/ /share/apps/subversion/bin/svn'
    alias svn='export LD_LIBRARY_PATH=/share/apps/serf/lib/; /share/apps/subversion/bin/svn'
fi

LD_FLAGS=-L/Library/Developer/CommandLineTools/SDKs/MacOSX11.sdk/usr/lib:/Library/Developer/CommandLineTools/SDKs/MacOSX11.sdk//System/Library/Frameworks:$LD_FLAGS

#temporary exports
export HYPHY_SCRIPTS=/Applications/HYPHY/hyphySVN/HYPHY/TemplateBatchFiles/
export TESTING_EXEC=/Users/zwickl/Desktop/GarliDEV/googleCodeRepo/trunk/builds/iccAsserts/installed/bin/Garli0.961b
export SAMP=$ROOT_INDEL/singleSite/del2Xins/ranaDepth0.1/totRate0.04/00/
export ASAMP=$ROOT_INDEL/singleSiteAligned/del2Xins/ranaDepth0.1/totRate0.04/00/
export MSAMP=$ROOT_INDEL/multiSite/zipfian1.5/del2Xins/ranaDepth0.1/totRate0.04/00/
export MASAMP=$ROOT_INDEL/multiSiteAligned/zipfian1.5/del2Xins/ranaDepth0.1/totRate0.04/00/


#filesystem locations - largely machine independent
export HYPHY_SCRIPTS=/Applications/HYPHY/hyphySVN/HYPHY/TemplateBatchFiles/
export TRUNK=$DEV/garli-github/garli/trunk/
export BRANCHES=$DEV/googleCodeRepo/branches/
export BEAG=$BRANCHES/beagle/
export PART=$BRANCHES/partitioning/
export TESTS=$DEV/git/garlitests/
export TB=$TRUNK/builds/
export PB=$PART/builds/

export BEAGLE=$DEV/beagle/beagle-lib
export BEAGLE_LIBPATH=$BEAGLE/builds/default/installed/usr/local/lib/

export PART_EXEC=$PART/builds/gccAss/installed/bin/Garli
export PART_EXEC_MPI=$PART/builds/gccAss.MPI/installed/bin/Garli
export PART_EXEC_DEB=$PART/builds/gccAss.DEB/installed/bin/Garli
export TRUNK_EXEC=$TRUNK/builds/gccAss/installed/bin/Garli
export TRUNK_EXEC_DEB=$TRUNK/builds/gccAss.DEB/installed/bin/Garli
export TRUNK_EXEC_MPI=$TRUNK/builds/gccAss.MPI/installed/bin/Garli
export TRUNK_EXEC_OMP=$TRUNK/../tag-builds/2.1-release/gccDefault.10.7.5.OMP.builtgcc-4.8.1/installed/bin/Garli
export TESTING_EXEC=$PART_EXEC
export TESTING_EXEC_MPI=$PART_EXEC_MPI
export VER2_EXEC=$DEV/googleCodeRepo/tags/2.0-release/builds/gccAss/installed/bin/Garli
export INDEL_SCRIPTS=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/indelibleSims/scripts/
export ROOT_INDEL=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/indelibleSims/
export TANDY_SCRIPTS=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/tandyData/scripts
export ROOT_TANDY=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/tandyData/
export JANSEN_SCRIPTS=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/jansen64/scripts
export ROOT_JANSEN=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/jansen64/
export COMMON_SCRIPTS=$DEV/experiments/orientedGapTests/mixedModel.Oct2010/commonScripts/

export PYTHONPATH=$HOME/bin/pyscripts/:$HOME/bin/biopython/:$PYTHONPATH

if [ $OS = "linux" ];then
    #export ORYZA_ROOT=$DEV/oryza/
    export ORYZA_SCRIPTS=$DEV/oryza_scripts/
    export PORYZA_ROOT=$DEV/productionOryza/
    export ORYZA_ROOT=$PORYZA_ROOT
    export FULLORYZA_ROOT=$DEV/fullGenomeOryza/
else
    export ORYZA_SCRIPTS=$DEV/experiments/oryza_scripts/
    export OLD_ORYZA_ROOT=$DEV/experiments/oryza/
    export PORYZA_ROOT=$DEV/experiments/productionOryza/
    export ORYZA_ROOT=$PORYZA_ROOT
    export FULLORYZA_ROOT=$DEV/experiments/fullGenomeOryza/
    export FULL_ANALYSES=$ORYZA_ROOT/gramene34_split_cleanedByCSHL/alignmentsAndTrees/ms2006.frac0.5/dag.G1.D4.C4.N5/
fi
export G34=$OLD_ORYZA_ROOT/gramene34_omap_genes/
export C34=$OLD_ORYZA_ROOT/gramene34_cleanedByCSHL/
export S34=$OLD_ORYZA_ROOT/gramene34_split_cleanedByCSHL/
export CLUSTC34=$C34/datasetAssembly/withShortModels.withoutSativaTransposonsOrOverlap.ignoreSati.ms2006.frac0.5/paramSweep.reciprocalDag.fixedNearby/geneOrder/dag.G1.D2.C4/nearbySweep/nearby5/
export CLUSTS34=$S34/datasetAss/noInd/wShort.woSatTransOrOverlap.frac0.5/reciprocalDag/geneOrder/dag.G1.D2.C4/nearbySweep/nearby5/

export SERIOUS=$ORYZA_ROOT/gramene34_omap_genes/datasetAssembly/blastP.clean/seriousRun/
export SPLITTING=$C34/datasetAssembly/withShortModels.withoutSativaTransposonsOrOverlap.ms2006.frac0.0/paramSweep.reciprocalDag.fixedNearby/geneOrder/joined.G1.D4.C4+G1.D50.C20/nearbySweep/nearby5/
export RELATIVE_ALIGNMENT_PATH_ORYZA=../../alignments/
if [ ! -d "$ORYZA_ROOT" ];then
    export ORYZA_ROOT=/share/work1/zwickl/experiments/oryza/
    #ls $ORYZA_ROOT &> /dev/null
fi

<<DEP
export ANALYSIS_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/analysisScripts/
export ANALYSIS_SCRIPTS_FULLORYZA=$FULLORYZA_ROOT/scripts/analysisScripts/
export ALIGNMENT_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/alignmentScripts/
export GENERAL_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/generalScripts/
export ANNOTATION_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/annotationSplittingScripts/
export PLOT_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/plottingScripts/
export POST_PROCESS_SCRIPTS_ORYZA=$ORYZA_ROOT/scripts/postProcessScripts/
DEP

export ANALYSIS_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/analysisScripts/
export ANALYSIS_SCRIPTS_FULLORYZA=$FULLORYZA_SCRIPTS/analysisScripts/
export ALIGNMENT_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/alignmentScripts/
export GENERAL_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/generalScripts/
export ANNOTATION_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/annotationSplittingScripts/
export PLOT_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/plottingScripts/
export POST_PROCESS_SCRIPTS_ORYZA=$ORYZA_SCRIPTS/postProcessScripts/
#export NUMORYZA=11
export NUMFULLORYZA=9


export BEAST=/home/zwickl/libbuilds/BEASTv1.6.1/

export LAGAN_DIR=$HOME/libbuilds/lagan20/

#command aliases
alias desk='cd $DESK'
alias lsl='ls -ltrh'
alias xterm='xterm -ls'
alias gp='gnuplot'
#alias synHome='synergyc  -f --name newlap 192.168.1.64'
alias synHome='synergyc  -f --name newlap 192.168.1.113'
alias lsl='ls -ltrh'
alias hist='shist | grep'
alias mi='nice make -j 2 && nice make install && pwd > $HOME/.lastMake'
alias mc='nice make -j 2 && nice make install && nice make check && pwd > $HOME/.lastMake'
alias dev='cd $DEV'
alias tunk='cd $TRUNK'
alias branch='cd $BRANCHES'
alias fin='grep Final'
alias cdtr='cd `ls -d $TESTS/rev* | tail -1`'
alias cdr='cd "`ls -dtr */ | tail -1`"'
#alias vir='vi `ls -trl . | grep -v "^d" | awk '{print $9}' | tail -n1`'
alias vir='vi `ls -tr . | tail -1`'
alias dush='du -shc *'
alias llog='*.log00.log'
alias cdt='cd $TESTS'
alias tabify="perl -p -i -e 's/[ ]+/\t/g'"
alias vig='vi garli.conf'
#alias dstat="disq_stat"
alias dsub="disq_sub"
alias ddel="disq_del"
alias pull="git pull origin"
alias push="git push origin"
alias shist="history | readHist"

function mark(){
    if [ ! "$#" -eq 1 ];then
        echo "Enter a name for this mark"
        return
    fi
    pwd > $HOME/.markedDirs/$1
}

function marks(){
    for DIR in $HOME/.markedDirs/*
    do
        echo
        echo ${DIR##*/}
        cat $DIR
    done
}

function cdm(){
    if [ ! "$#" -eq 1 ];then
        echo
        echo "Defined marks"
        for DIR in $HOME/.markedDirs/*
        do
            echo
            echo ${DIR##*/}
            cat $DIR
        done
        #echo "Enter a named mark"
        return
    fi
    cd `cat $HOME/.markedDirs/$1`
}

alias runLast='`cat $HOME/.lastMake`/installed/bin/Garli'
alias debLast='gdb `cat $HOME/.lastMake`/installed/bin/Garli'

alias phylonet='java -jar $HOME/Desktop/code/PhyloNet_3.5.4.jar'

#functions

function gits(){
    #this won't show untracked files, and is much faster
    git status -uno $@ | less
}

function gitsu(){
    git status $@ | less
}

function gitls(){
    git ls-files $@ | less
}

function inEachDir(){
	if [ $OS = "darwin" ];then
		source /Users/zwickl/.profile
	        for dir in */
	        do
	               	cd $dir || return 1
	                $@ || return 1
	                cd .. || return 1
	        done
	elif [ $OS = "linux" ];then
	for dir in */
		do
			cd $dir || exit
			$@ || exit
			cd .. || exit
		done
	fi
}

function usedCount(){
	for name in zwickl jeet tracyh mholder joaks1 johnkelly bhurwitz sanderm dboss juliej mcmahonm machado scotty323 cwlinkem
	do
		echo -n "$name	"
		qstat -u $name | grep [0-9] | grep -v "qw" | awk '{print $9}' | grep [0-9] | sumCol.py
	done
	echo -n "total	"
	qstat -u "*" | grep [0-9] | grep -v "qw" | awk '{print $9}' | grep [0-9] | sumCol.py
}

function queuedCount(){
	for name in zwickl jeet tracyh mholder joaks1 johnkelly bhurwitz sanderm dboss juliej mcmahonm machado scotty323 cwlinkem
	do
		echo -n "$name	"
		qstat -u $name | grep [0-9] | grep qw | awk '{print $8}' | grep [0-9] | sumCol.py
	done
	echo -n "total	"
	qstat -u "*" | grep [0-9] | grep qw | awk '{print $8}' | grep [0-9] | sumCol.py
}

function dstat(){
	for name in zwickl jeet tracyh mholder joaks1 johnkelly
	do
		echo -n "$name	"
		disq_stat -u $name 2>/dev/null
	done
}

function mkcd(){
	mkdir $@
	cd $@
}

function vm(){
    if [ $# -eq 2 ];then
        echo $2 > $HOME/.vmark$1
    elif [ $# -eq 1 ];then
        vi `cat $HOME/.vmark$1`
    fi
}

function countFastaSeqs(){
    for i in $@
    do
        echo $i
        grep '^>' $i | wc -l
    done
}

function occurenceCount(){
    PATT=$1
    shift 1
    grep $PATT $@ | wc -l
}

function fileCount(){
    ls $@ | wc -l
}

if [[ $OS == 'darwin' ]]; then
	function rce(){
		vi $HOME/.profile
		source $HOME/.profile
	}
	function transpose(){
		cat $@ | rs -c -T	

	}
else
	function rce(){
		vi $HOME/.bashrc
		source $HOME/.bashrc
	}
fi

if [[ $OS == 'darwin' ]]; then
    function viewDagchainer(){
        ~/Desktop/code/DAGCHAINER/Java_XY_plotter/run_XYplot.pl $1 $2
    }
    function disableSpotlightIndexing(){
        #the other lines here actually disable spotlight entirely
        sudo mdutil -a -i off
        #sudo launchctl unload -w /System/Library/LaunchDaemons/
        #com.apple.metadata.mds.plist
    }
    function enableSpotlightIndexing(){
        sudo mdutil -a -i on
        #sudo launchctl load -w /System/Library/LaunchDaemons/
        #com.apple.metadata.mds.plist
    }
fi

function kwy (){
NOPROXY=0
if [[ $OS == 'darwin' ]]; then
    NOPROXY=`ifconfig | grep inet | grep 129.237 | wc -l`
elif [[ $OS == 'cygwin' ]]; then
    NOPROXY=`ipconfig | grep IPv4 | grep 129.237 | wc -l`
fi

    if [ "$NOPROXY" -eq 0 ];then
        ssh -t $PHYLO 'ssh zwickl@129.237.24.139'
     else
        ssh $KWY
     fi
}

function dkwy (){
NOPROXY=0
if [[ $OS == 'darwin' ]]; then
    NOPROXY=`ifconfig | grep inet | grep 129.237 | wc -l`
elif [[ $OS == 'cygwin' ]]; then
    NOPROXY=`ipconfig | grep IPv4 | grep 129.237 | wc -l`
fi

    if [ "$NOPROXY" -eq 0 ];then
        ssh -t $PHYLO 'ssh derrick@129.237.24.139'
     else
        ssh derrick@129.237.24.139
     fi
}

function startScript(){
    if [ ! -e "$@" ];then
        echo "#!/bin/bash" > $@ 
        echo >> $@ 
        echo >> $@ 
        vi +3 $@
        chmod +x $@
    else
        vi $@
    fi
}

function startGnuplotScript(){
    echo "load ~/versionedScriptsAndDotfiles/generalScripts/default_gnuplot_styles.plt"  > $@
    echo >> $@
    echo >> $@
    vi +3 $@
}

function myqrsh(){
    if [ $# -eq 0 ];then
        MEM=2
    else
        MEM=$@
    fi
    echo qrsh -wd $PWD -l h_vmem="$MEM"G -l s_vmem="$MEM"G -l vf="$MEM"G
    qrsh -l h_vmem="$MEM"G -l s_vmem="$MEM"G -l vf="$MEM"G
}

function cdjob(){
    cd `qstat -j $1 | grep cwd | awk '{print $2}'`
}

function killAndResubmitJob(){
    cd `qstat -j $1 | grep cwd | awk '{print $2}'`
    SCRIPT=`qstat -j $1 | grep script_file | awk '{print $2}'`
    qdel $1
    qsub $SCRIPT
}

function killAllSGE(){
    for JOB in `qstat | awk '{print $1}' | grep '^[0-9]' | uniq`
    do
        qdel $JOB
    done
}

function killAllQueued(){
    for JOB in `qstat | grep qw | awk '{print $1}' | grep '^[0-9]'`
    do
        qdel $JOB
    done
}

function listJobDirsSGE(){
    for JOB in `qstat | awk '{print $1}' | grep '^[0-9]'`
    do
        echo $JOB
        qstat -j $JOB | grep workdir
    done
}

function cnt(){
    ls $@ | wc -l
}

function zeroPadNumber(){
    if [ $# -gt "1" ];then
        DIGITS=$2
    else
        DIGITS=2
    fi

    RESULT=$1
    while [ ${#RESULT} -lt "$DIGITS" ]
    do
        RESULT=0$RESULT
    done
    echo $RESULT
}

function zeroPaddedNumberGenerator(){
    SERIES=`for ((VAL=$1;VAL<$2;VAL++))
    do
        zeroPadNumber $VAL $3
    done
    `
    echo $SERIES
}

function padToTwoDigits(){
   if [ $1 -lt 10 ];then
       NUM=0$1
   else
       NUM=$1
   fi
   echo $NUM
}

#mac specific
if [[ $OS == 'darwin' ]]; then
	alias temp='sysctl kern.cpu_temp'
	alias top='top -u'
	export COPYFILE_DISABLE=true
	source /opt/intel/cc/9.1.037/bin/iccvars.sh
	export PATH="/Library/Frameworks/Python.framework/Versions/2.7/bin:${PATH}"

elif [[ $OS == 'cygwin' ]]; then
	stty lnext ^q stop undef start undef
	export INPUTRC=$HOME/.inputrc
	alias killall='taskkill /f /im"$1"'
	alias c:='cd /cygdrive/c/'
	alias e:='cd /cygdrive/e/'
	alias f:='cd /cygdrive/f/'
	export CD=/cygdrive/c/
	export ED=/cygdrive/e/
	export FD=/cygdrive/f/

fi

#ignore sucessive duplicate commands
HISTIGNORE=\&
HISTFILESIZE=1000

function ogeFullData(){
    PATH=$PATH:/opt/iCommands/
    icd /iplant/home/shared/agi_data
}

if [[ $OS == 'darwin' ]]; then
    #for rbenv ruby utility
    PATH=$PATH:/Users/zwickl/.rbenv/bin

    # Setting PATH for Python 2.7
    # The orginal version is saved in .profile.pysave
    PATH="/Library/Frameworks/Python.framework/Versions/2.7/bin:${PATH}"
    export PATH

    export ANDROIDSDK=$HOME/android_dev/adt-bundle-mac-x86_64-20130522/sdk
    export ANDROIDNDK=$HOME/android_dev/android-ndk-r8e
    export ANDROIDNDKVER=r8e
    export ANDROIDAPI=14

    export PATH=$ANDROIDNDK:$ANDROIDSDK/tools:$PATH
fi

# Setting PATH for Python 3.8
# The original version is saved in .profile.pysave
PATH="/Library/Frameworks/Python.framework/Versions/3.8/bin:${PATH}"
export PATH
. "$HOME/.cargo/env"
